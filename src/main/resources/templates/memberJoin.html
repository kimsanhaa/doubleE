<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <meta charset="UTF-8">
    <title>회원가입</title>
    <link rel="stylesheet" href="memberJoinStyle.css" >
</head>
<body>
<div id = "mainBox">
    <div id = "titleBox">
        <div id="semiTitle">회원가입</div>
    </div>
    <div id="joinBox"></div>
    <span id="nameInput"><input id="newName" type="text" placeholder="이름"></input></span>
    <span id="ageInput"><input id="newAge" type="number" placeholder="나이"></input></span>
    <span id="idInput"><input id="newId" type="text" placeholder="아이디"></input></span>
    <span id="pwInput"><input id="newPW" type="password" placeholder="비밀번호"></input></span>

    <button id="joinBtn" type="button">회원가입하기</button>

</div>

</body>

<script>

    var pwNoCheck = /^[0-9]$/;
    var pwEnCheck = /^[a-zA-Z]$/;
    var pwCheck = /^(?=.*[a-zA-Z])(?=.*[0-9]).{8,20}$/;
    $("#joinBtn").click(function () {
        //유효성검사 --> 나이-> 100살 미만:: id -> 20자 미만:: pw -> 영문, 숫자를 포함한 8글자 이상::
        if($("#newAge").val()>=100){
            $("#newAge").after("나이는 100살 미만이어야 합니다.");
        }
        if($("#newId").val().length >=20){
            $("#newId").after("아이디는 20자 미만이어야 합니다.");
        }
        if(!pwCheck.test($("#newPW").val())){
            $("#newPW").after("비밀번호는 영문, 숫자를 포함한 8~20 글자 이어야 합니다.");
        }

        $.ajax({
            type : 'POST',
            uri : 'memberJoin',
            data : {
                'name' : $("#newName").val(),   // 받는부분 변수이름과 같아야 한다
                'age' : $("#newAge").val(),
                'id' : $("#newId").val(),
                'password' : $("#newPW").val()
            },
            success : function (res){
                console.log(res);
            },
            error : function(error){
                console.log(error);
            }
        })
    });





</script>

</html>